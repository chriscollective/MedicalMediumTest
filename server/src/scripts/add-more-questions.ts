import dotenv from 'dotenv';
import { connectDatabase } from '../config/database';
import Question from '../models/Question';
import mongoose from 'mongoose';

dotenv.config();

const newQuestions = [
  // ç¥å¥‡è¥¿èŠ¹æ± - åˆéš (è£œå…… 7 é¡Œï¼Œé”åˆ° 20 é¡Œ)
  {
    type: 'single',
    question: 'è¥¿èŠ¹æ±æœ€å¥½åœ¨ä»€éº¼æ™‚å€™å–ï¼Ÿ',
    options: ['æ—©ä¸Šç©ºè…¹', 'é£¯å¾Œ', 'ç¡å‰', 'éš¨æ™‚'],
    correctAnswer: 0,
    source: 'ã€Šç¥å¥‡è¥¿èŠ¹æ±ã€‹',
    explanation: 'æ—©ä¸Šç©ºè…¹å–è¥¿èŠ¹æ±èƒ½ç™¼æ®æœ€ä½³ç™‚ç™’æ•ˆæœã€‚',
    difficulty: 'åˆéš',
    book: 'ç¥å¥‡è¥¿èŠ¹æ±'
  },
  {
    type: 'single',
    question: 'è¥¿èŠ¹æ±å»ºè­°ä¸€æ¬¡å–å¤šå°‘æ¯«å‡ï¼Ÿ',
    options: ['100-200ml', '300-400ml', '500mlæˆ–æ›´å¤š', '1000mlä»¥ä¸Š'],
    correctAnswer: 2,
    source: 'ã€Šç¥å¥‡è¥¿èŠ¹æ±ã€‹',
    explanation: 'å»ºè­°æ¯å¤©è‡³å°‘å– 500ml çš„è¥¿èŠ¹æ±ã€‚',
    difficulty: 'åˆéš',
    book: 'ç¥å¥‡è¥¿èŠ¹æ±'
  },
  {
    type: 'multiple',
    question: 'è¥¿èŠ¹æ±å¯ä»¥å¹«åŠ©æ”¹å–„å“ªäº›ç—‡ç‹€ï¼Ÿï¼ˆè¤‡é¸ï¼‰',
    options: ['é«˜è¡€å£“', 'æ¶ˆåŒ–å•é¡Œ', 'çš®è†šå•é¡Œ', 'å¤±çœ ', 'é—œç¯€ç‚'],
    correctAnswer: [0, 1, 2, 3, 4],
    source: 'ã€Šç¥å¥‡è¥¿èŠ¹æ±ã€‹',
    explanation: 'è¥¿èŠ¹æ±å°å¤šç¨®å¥åº·å•é¡Œéƒ½æœ‰å¹«åŠ©ã€‚',
    difficulty: 'åˆéš',
    book: 'ç¥å¥‡è¥¿èŠ¹æ±'
  },
  {
    type: 'fill',
    question: 'è¥¿èŠ¹æ±éœ€è¦ä½¿ç”¨___æ‰èƒ½æ¦¨å–ï¼Œä¸èƒ½ç”¨èª¿ç†æ©Ÿã€‚',
    fillOptions: ['æ¦¨æ±æ©Ÿ', 'æœæ±æ©Ÿ', 'èª¿ç†æ©Ÿ', 'æ”ªæ‹Œæ©Ÿ', 'ç ”ç£¨æ©Ÿ', 'å£“æ±æ©Ÿ'],
    correctAnswer: 0,
    source: 'ã€Šç¥å¥‡è¥¿èŠ¹æ±ã€‹',
    explanation: 'æ¦¨æ±æ©Ÿèƒ½å»é™¤çº–ç¶­ï¼Œè®“ç‡Ÿé¤Šæ›´å®¹æ˜“å¸æ”¶ã€‚',
    difficulty: 'åˆéš',
    book: 'ç¥å¥‡è¥¿èŠ¹æ±'
  },
  {
    type: 'single',
    question: 'è¥¿èŠ¹æ±ä¸­æœ€é‡è¦çš„æˆåˆ†æ˜¯ä»€éº¼ï¼Ÿ',
    options: ['ç¶­ç”Ÿç´ C', 'éˆ‰ç°‡é¹½', 'çº–ç¶­', 'è›‹ç™½è³ª'],
    correctAnswer: 1,
    source: 'ã€Šç¥å¥‡è¥¿èŠ¹æ±ã€‹',
    explanation: 'éˆ‰ç°‡é¹½æ˜¯è¥¿èŠ¹æ±ä¸­æœ€é‡è¦çš„ç™‚ç™’æˆåˆ†ã€‚',
    difficulty: 'åˆéš',
    book: 'ç¥å¥‡è¥¿èŠ¹æ±'
  },
  {
    type: 'multiple',
    question: 'é£²ç”¨è¥¿èŠ¹æ±çš„æ³¨æ„äº‹é …æœ‰å“ªäº›ï¼Ÿï¼ˆè¤‡é¸ï¼‰',
    options: ['è¦ç©ºè…¹å–', 'ä¸èƒ½åŠ å…¶ä»–è”¬æœ', 'å–å¾Œè¦ç­‰15-30åˆ†é˜å†é€²é£Ÿ', 'è¦æ–°é®®ç¾æ¦¨', 'å¯ä»¥å†·å‡ä¿å­˜'],
    correctAnswer: [0, 1, 2, 3],
    source: 'ã€Šç¥å¥‡è¥¿èŠ¹æ±ã€‹',
    explanation: 'è¥¿èŠ¹æ±æœ€å¥½æ–°é®®ç¾æ¦¨ã€ç´”é£²ã€ç©ºè…¹å–ã€‚',
    difficulty: 'åˆéš',
    book: 'ç¥å¥‡è¥¿èŠ¹æ±'
  },
  {
    type: 'fill',
    question: 'è¥¿èŠ¹æ±å»ºè­°é€£çºŒé£²ç”¨è‡³å°‘___å€‹æœˆæ‰èƒ½çœ‹åˆ°æ˜é¡¯æ•ˆæœã€‚',
    fillOptions: ['1', '2', '3', '6', '12', '24'],
    correctAnswer: 2,
    source: 'ã€Šç¥å¥‡è¥¿èŠ¹æ±ã€‹',
    explanation: 'å»ºè­°é€£çºŒé£²ç”¨è‡³å°‘ 3 å€‹æœˆã€‚',
    difficulty: 'åˆéš',
    book: 'ç¥å¥‡è¥¿èŠ¹æ±'
  },

  // æ¶æ•‘è‚è‡Ÿ - åˆéš (è£œå…… 10 é¡Œï¼Œé”åˆ° 20 é¡Œ)
  {
    type: 'single',
    question: 'è‚è‡Ÿæœ‰å¤šå°‘ç¨®åŠŸèƒ½ï¼Ÿ',
    options: ['500å¤šç¨®', '1000å¤šç¨®', '2000å¤šç¨®', '3000å¤šç¨®'],
    correctAnswer: 2,
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'è‚è‡ŸåŸ·è¡Œè¶…é 2000 ç¨®åŒ–å­¸åŠŸèƒ½ã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },
  {
    type: 'single',
    question: 'è‚è‡Ÿæœ€éœ€è¦ä»€éº¼ç‡Ÿé¤Šï¼Ÿ',
    options: ['è›‹ç™½è³ª', 'è„‚è‚ª', 'è‘¡è„ç³–', 'ç¶­ç”Ÿç´ '],
    correctAnswer: 2,
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'è‚è‡Ÿéœ€è¦ç”Ÿç‰©å¯åˆ©ç”¨çš„è‘¡è„ç³–ã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },
  {
    type: 'multiple',
    question: 'ä»¥ä¸‹å“ªäº›é£Ÿç‰©å°è‚è‡Ÿæœ‰ç›Šï¼Ÿï¼ˆè¤‡é¸ï¼‰',
    options: ['æ°´æœ', 'ç¶ è‘‰è”¬èœ', 'èŠ¹èœæ±', 'é‡ç”Ÿè—è“', 'é«˜è„‚é£Ÿç‰©'],
    correctAnswer: [0, 1, 2, 3],
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'æ–°é®®æ°´æœã€è”¬èœå’Œé‡ç”Ÿè—è“éƒ½å°è‚è‡Ÿæœ‰ç›Šã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },
  {
    type: 'fill',
    question: 'è‚è‡Ÿè² è²¬å„²å­˜___ä»¥å‚™ä¸æ™‚ä¹‹éœ€ã€‚',
    fillOptions: ['ç¶­ç”Ÿç´ ', 'è‘¡è„ç³–', 'è›‹ç™½è³ª', 'è„‚è‚ª', 'æ°´åˆ†', 'ç¤¦ç‰©è³ª'],
    correctAnswer: 1,
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'è‚è‡Ÿæœƒå„²å­˜è‘¡è„ç³–ä»¥ç¶­æŒè¡€ç³–ç©©å®šã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },
  {
    type: 'single',
    question: 'æ—©æ™¨èµ·åºŠå¾Œæœ€å¥½å…ˆå–ä»€éº¼ï¼Ÿ',
    options: ['å’–å•¡', 'ç‰›å¥¶', 'æª¸æª¬æ°´', 'èŒ¶'],
    correctAnswer: 2,
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'æª¸æª¬æ°´èƒ½å¹«åŠ©è‚è‡Ÿæ’æ¯’ã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },
  {
    type: 'multiple',
    question: 'è‚è‡Ÿéœ€è¦æ’æ¯’çš„åŸå› åŒ…æ‹¬ï¼Ÿï¼ˆè¤‡é¸ï¼‰',
    options: ['é‡é‡‘å±¬ç´¯ç©', 'ç—…æ¯’æ„ŸæŸ“', 'åŒ–å­¸ç‰©è³ª', 'å£“åŠ›', 'ç¼ºä¹é‹å‹•'],
    correctAnswer: [0, 1, 2, 3],
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'å¤šç¨®å› ç´ æœƒå°è‡´è‚è‡Ÿæ¯’ç´ ç´¯ç©ã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },
  {
    type: 'single',
    question: 'è‚è‡Ÿä½•æ™‚é€²è¡Œæœ€é‡è¦çš„ä¿®å¾©å·¥ä½œï¼Ÿ',
    options: ['ç™½å¤©', 'æ™šä¸Šç¡çœ æ™‚', 'é‹å‹•æ™‚', 'é€²é£Ÿæ™‚'],
    correctAnswer: 1,
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'è‚è‡Ÿåœ¨å¤œé–“ç¡çœ æ™‚é€²è¡Œä¿®å¾©ã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },
  {
    type: 'fill',
    question: '___æ˜¯è‚è‡Ÿæœ€å¤§çš„æ•µäººä¹‹ä¸€ã€‚',
    fillOptions: ['æ°´æœ', 'è”¬èœ', 'é«˜è„‚è‚ªé£²é£Ÿ', 'å…¨ç©€ç‰©', 'å …æœ', 'è±†é¡'],
    correctAnswer: 2,
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'é«˜è„‚è‚ªé£²é£Ÿæœƒå¢åŠ è‚è‡Ÿè² æ“”ã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },
  {
    type: 'single',
    question: 'è‚è‡Ÿæ’æ¯’éœ€è¦å¤šä¹…æ™‚é–“ï¼Ÿ',
    options: ['1é€±', '1å€‹æœˆ', '3å€‹æœˆ', '6å€‹æœˆä»¥ä¸Š'],
    correctAnswer: 3,
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'è‚è‡Ÿæ·±å±¤æ’æ¯’éœ€è¦ 6 å€‹æœˆä»¥ä¸Šã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },
  {
    type: 'multiple',
    question: 'è‚è‡Ÿæ¸…æ½”é£²é£Ÿæ‡‰é¿å…å“ªäº›ï¼Ÿï¼ˆè¤‡é¸ï¼‰',
    options: ['è›‹', 'ä¹³è£½å“', 'éº©è³ª', 'åŠ å·¥é£Ÿå“', 'æ–°é®®æ°´æœ'],
    correctAnswer: [0, 1, 2, 3],
    source: 'ã€Šæ¶æ•‘è‚è‡Ÿã€‹',
    explanation: 'é€™äº›é£Ÿç‰©æœƒå¢åŠ è‚è‡Ÿè² æ“”ã€‚',
    difficulty: 'åˆéš',
    book: 'æ¶æ•‘è‚è‡Ÿ'
  },

  // æ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰© - åˆéš (è£œå…… 8 é¡Œï¼Œé”åˆ° 20 é¡Œ)
  {
    type: 'single',
    question: 'é‡ç”Ÿè—è“çš„ä¸»è¦åŠŸæ•ˆæ˜¯ä»€éº¼ï¼Ÿ',
    options: ['ç¾ç™½', 'æ’é™¤é‡é‡‘å±¬', 'å¢è‚Œ', 'æ¸›è‚¥'],
    correctAnswer: 1,
    source: 'ã€Šæ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©ã€‹',
    explanation: 'é‡ç”Ÿè—è“èƒ½æœ‰æ•ˆæ’é™¤é‡é‡‘å±¬ã€‚',
    difficulty: 'åˆéš',
    book: 'æ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©'
  },
  {
    type: 'single',
    question: 'é¦™è•‰æœ€å¥½åœ¨ä»€éº¼ç‹€æ…‹ä¸‹é£Ÿç”¨ï¼Ÿ',
    options: ['é’è‰²', 'é»ƒè‰²å¸¶æ–‘é»', 'å®Œå…¨ç¶ è‰²', 'ç…®ç†Ÿå¾Œ'],
    correctAnswer: 1,
    source: 'ã€Šæ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©ã€‹',
    explanation: 'æœ‰æ–‘é»çš„é¦™è•‰ç‡Ÿé¤Šåƒ¹å€¼æœ€é«˜ã€‚',
    difficulty: 'åˆéš',
    book: 'æ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©'
  },
  {
    type: 'multiple',
    question: 'é‡é‡‘å±¬æ’æ¯’äº”å¤§å¤©ç‹åŒ…æ‹¬ï¼Ÿï¼ˆè¤‡é¸ï¼‰',
    options: ['é‡ç”Ÿè—è“', 'é¦™èœ', 'èºæ—‹è—»', 'å¤§è¥¿æ´‹ç´…è—»', 'å¤§éº¥è‰æ±ç²‰'],
    correctAnswer: [0, 1, 2, 3, 4],
    source: 'ã€Šæ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©ã€‹',
    explanation: 'é€™äº”ç¨®é£Ÿç‰©å”åŒä½œç”¨æ’é™¤é‡é‡‘å±¬ã€‚',
    difficulty: 'åˆéš',
    book: 'æ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©'
  },
  {
    type: 'fill',
    question: '___æ˜¯æœ€å¼·å¤§çš„æŠ—æ°§åŒ–æ°´æœä¹‹ä¸€ã€‚',
    fillOptions: ['è˜‹æœ', 'é¦™è•‰', 'é‡ç”Ÿè—è“', 'æ©˜å­', 'è‘¡è„', 'è‰è“'],
    correctAnswer: 2,
    source: 'ã€Šæ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©ã€‹',
    explanation: 'é‡ç”Ÿè—è“å«æœ‰å¼·å¤§çš„æŠ—æ°§åŒ–ç‰©ã€‚',
    difficulty: 'åˆéš',
    book: 'æ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©'
  },
  {
    type: 'single',
    question: 'è˜‹æœæœ€å¥½ä»€éº¼æ™‚å€™åƒï¼Ÿ',
    options: ['é£¯å¾Œ', 'æ—©ä¸Šç©ºè…¹', 'ç¡å‰', 'éš¨æ™‚'],
    correctAnswer: 1,
    source: 'ã€Šæ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©ã€‹',
    explanation: 'æ—©ä¸Šç©ºè…¹åƒè˜‹æœæœ€èƒ½ç™¼æ®æ’æ¯’æ•ˆæœã€‚',
    difficulty: 'åˆéš',
    book: 'æ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©'
  },
  {
    type: 'multiple',
    question: 'æ°´æœçš„æœ€ä½³é£Ÿç”¨æ™‚æ©Ÿæ˜¯ï¼Ÿï¼ˆè¤‡é¸ï¼‰',
    options: ['ç©ºè…¹', 'å…©é¤ä¹‹é–“', 'é£¯å‰', 'é£¯å¾Œç«‹å³', 'é‹å‹•å¾Œ'],
    correctAnswer: [0, 1, 2, 4],
    source: 'ã€Šæ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©ã€‹',
    explanation: 'ç©ºè…¹æ™‚åƒæ°´æœæœ€å®¹æ˜“å¸æ”¶ã€‚',
    difficulty: 'åˆéš',
    book: 'æ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©'
  },
  {
    type: 'single',
    question: 'è–‘å°å“ªå€‹ç³»çµ±ç‰¹åˆ¥æœ‰å¹«åŠ©ï¼Ÿ',
    options: ['å‘¼å¸ç³»çµ±', 'æ¶ˆåŒ–ç³»çµ±', 'å¾ªç’°ç³»çµ±', 'ç¥ç¶“ç³»çµ±'],
    correctAnswer: 1,
    source: 'ã€Šæ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©ã€‹',
    explanation: 'è–‘èƒ½å¹«åŠ©æ¶ˆåŒ–ç³»çµ±é‹ä½œã€‚',
    difficulty: 'åˆéš',
    book: 'æ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©'
  },
  {
    type: 'fill',
    question: 'å¤§è’œå…·æœ‰å¼·å¤§çš„___ç‰¹æ€§ã€‚',
    fillOptions: ['æŠ—ç—…æ¯’', 'ä¿ƒé€²ç¡çœ ', 'å¢åŠ é£Ÿæ…¾', 'ç¾ç™½', 'æ­¢ç—›', 'é€€ç‡’'],
    correctAnswer: 0,
    source: 'ã€Šæ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©ã€‹',
    explanation: 'å¤§è’œæ˜¯å¤©ç„¶çš„æŠ—ç—…æ¯’é£Ÿç‰©ã€‚',
    difficulty: 'åˆéš',
    book: 'æ”¹è®Šç”Ÿå‘½çš„é£Ÿç‰©'
  }
];

async function addQuestions() {
  try {
    await connectDatabase();

    console.log('\nğŸ“ æº–å‚™æ–°å¢é¡Œç›®...');
    console.log(`ç¸½å…± ${newQuestions.length} é¡Œ\n`);

    // æ’å…¥æ–°é¡Œç›®
    const result = await Question.insertMany(newQuestions);

    console.log(`âœ… æˆåŠŸæ–°å¢ ${result.length} é¡Œï¼\n`);

    // é¡¯ç¤ºçµ±è¨ˆ
    const stats = await Question.aggregate([
      {
        $group: {
          _id: { book: '$book', difficulty: '$difficulty' },
          count: { $sum: 1 }
        }
      },
      { $sort: { '_id.book': 1, '_id.difficulty': 1 } }
    ]);

    console.log('ğŸ“Š æ›´æ–°å¾Œçš„é¡Œåº«çµ±è¨ˆï¼š');
    console.log('====================');
    stats.forEach(stat => {
      console.log(`${stat._id.book} - ${stat._id.difficulty}: ${stat.count} é¡Œ`);
    });

  } catch (error) {
    console.error('âŒ éŒ¯èª¤:', error);
  } finally {
    await mongoose.connection.close();
    console.log('\nğŸ‘‹ è³‡æ–™åº«é€£æ¥å·²é—œé–‰');
  }
}

addQuestions();
